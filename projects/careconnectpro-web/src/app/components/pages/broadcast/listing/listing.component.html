<div class="row">
  <div class="col-lg-12">
    <div class="card">
      <div class="row">
        <div class="col-xlg-12 col-md-12">
          <div class="card-body">
            <a routerLink="/home/broadcast/new"
               class="btn btn-danger m-b-10 p-10 m-r-10 waves-effect waves-light">Compose</a>
          </div>
          <div class="card-body p-t-0">
            <!-- <div class="card b-all shadow-none">
              <div class="inbox-center table-responsive">
                <table class="table table-hover no-wrap">
                  
                  <tbody style="height:200px;overflow-y:scroll">

                  <tr class="unread" *ngFor="let item of broadcasts; let i = index">
                    <td style="width:40px">
                      <div class="checkbox">
                        <input type="checkbox" id="{{'checkbox'+i}}" value="check" (change)="onChangeCheckbox(item.id)">
                        <label for="{{'checkbox'+i}}"></label>
                      </div>
                    </td>
                    <td class="hidden-xs-down" (click)="viewMessage(item.id)" style="cursor: pointer">
                        <a [routerLink]="['/home/broadcast/detail/',item.id]">
                      <img [src]="getEmployeeImage(item.senderId)" alt="user" width="20"
                           class="img-circle"/>
                      {{ getEmployeeFullName(item.senderId) }}
                      </a>
                    </td>
                    <td class="max-texts"><a [routerLink]="['/home/broadcast/detail/',item.id]">
                      <span>{{item.subject}}</span>
                    </a>
                    </td>
                    <td class="text-right"> {{ formatDate(item.dateCreated) }} </td>
                  </tr>

                  </tbody>
                </table>
              </div>
            </div> -->
            <p-table [columns]="cols" [value]="broadcasts" [scrollable]="true" 
            [responsive]="true" scrollHeight="200px">

            <ng-template pTemplate="header" let-columns>
                <tr>
                    <th style="width: 3em"></th>
                    <th *ngFor="let col of columns" [pSortableColumn]="col.field">
                        {{col.header}}
                        <p-sortIcon [field]="col.field"></p-sortIcon>
                    </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-rowData let-columns="columns">
                <!-- <tr class="unread" *ngFor="let item of broadcasts; let i = index">
                    <td style="width:40px">
                      <div class="checkbox">
                        <input type="checkbox" id="{{'checkbox'+i}}" value="check" (change)="onChangeCheckbox(item.id)">
                        <label for="{{'checkbox'+i}}"></label>
                      </div>
                    </td>
                    <td class="max-texts" (click)="viewMessage(item.id)" style="cursor: pointer">
                        <a [routerLink]="['/home/broadcast/detail/',item.id]">
                      <img [src]="getEmployeeImage(item.senderId)" alt="user" width="20"
                           class="img-circle"/>
                      {{ getEmployeeFullName(item.senderId) }}
                      </a>
                    </td>
                    <td class="max-texts"><a [routerLink]="['/home/broadcast/detail/',item.id]">
                      <span>{{item.subject}}</span>
                    </a>
                    </td>
                    <td class="max-texts"> {{ formatDate(item.dateCreated) }} </td>
                  </tr> -->
                  <tr class="unread" >
                      <td style="width: 3em">
                          <!-- <p-tableCheckbox [value]="rowData"></p-tableCheckbox> -->
                          <div class="checkbox">
                            <input type="checkbox" id="{{'checkbox'+rowData.id}}" value="check" (change)="onChangeCheckbox(rowData.id)">
                            <label for="{{'checkbox'+rowData.id}}"></label>
                          </div>
                      </td>
                      <td *ngFor="let col of columns"  style="text-align: center;cursor: pointer">
                          <div *ngIf = "col.field==='subject'">
                              <a [routerLink]="['/home/broadcast/detail/',rowData.id]">
                              {{rowData[col.field]}}
                              </a>
                          </div>
                          <div *ngIf="col.field==='dateCreated'">
                            {{ formatDate(rowData.dateCreated) }} 
                          </div>
                          <div *ngIf = "col.field==='name'">
                              <a [routerLink]="['/home/broadcast/detail/',rowData.id]">
                                <img [src]="getEmployeeImage(rowData.senderId)" alt="user" width="20"
                                     class="img-circle"/>
                                {{ getEmployeeFullName(rowData.senderId) }}
                                </a>
                          </div>
                      </td>
                    </tr>
            </ng-template> 
        </p-table>
          </div>
         
        </div>
      </div>
    </div>
  </div>
</div>
